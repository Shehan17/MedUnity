@page
@model MedUnity.Pages.LoginModel
@{

    ViewData["Title"] = "Registration Form";

}

<div id="register-form">

<h3>Registration Form</h3>


    <form method="post" asp-page-handler="Register">
    <div class="mt-3">
        <label class="fw-bold">Birth Day</label>
            <input class="form-select" asp-for="RegisterData.DOB" type="date" required />
    </div>
   
    <div class="mt-3">
        <label class=" fw-bold">First Name</label>
            <input type="text" asp-for="RegisterData.FirstName" class="form-control" placeholder="First Name" />
    </div>

    <div class="mt-3">
            <label class="fw-bold">Last Name</label>
            <input type="text" asp-for="RegisterData.LastName" class="form-control" placeholder="Last Name" />
    </div>


     <div class="mt-3">
            <label class="fw-bold ">Email</label>
            <input type="email" asp-for="RegisterData.Email" class="form-control" placeholder="Email" required />
    </div>

    <div class="mt-3">
            <label class=" fw-bold">Password</label>
            <input type="password" asp-for="RegisterData.Password" class="form-control" placeholder="Enter a strong password" required />
    </div>

    <div class="mt-3">
            <label class="fw-bold">Phone Number</label>
            <input type="number" asp-for="RegisterData.PhoneNumber" class="form-control" placeholder="Phone number" />
    </div>

    <div class="mt-3">
        <label class="fw-bold">Special Note</label>
            <input type="text" asp-for="RegisterData.SpecialNote" class="form-control" placeholder="Leave a note" />
    </div>
        <div class="mt-3">
            
            <p asp-for="ErrorMessage"></>
        </div>
  
    <div class="text-center">
            <button type = "submit" class="btn dark-submit rounded-pill mt-4 w-50 ">
                Register
            </button>
        </div>
        <p class="mt-2">Already have an account? <a href="#" id="show-login">Login</a></p>
</form>
</div>

<div id="login-form" style="display: none;">

    <h3>Login </h3>

    <form method="post" asp-page-handler="Login">
    <div class="mt-3">
        <label class="fw-bold ">Email</label>
            <input type="email" asp-for="LoginData.Email" class="form-control" placeholder="Email" required />
    </div>

    <div class="mt-3">
        <label class=" fw-bold">Password</label>
            <input type="password" asp-for="LoginData.Password" class="form-control" placeholder="Enter a strong password" required />
    </div>

        <div class="mt-3">

            <p asp-for="ErrorMessage"></>
        </div>

        <div class="text-center">
            <button type="submit" class="btn dark-submit rounded-pill mt-4 w-50 ">
                Login
            </button>
        </div>
    </form>
    <p class="mt-2">Don't have an account? <a href="#" id="show-register">Register</a></p>
</div>

@section Scripts {
    <script>
        // Use DOMContentLoaded to ensure the HTML elements exist before running JS
        document.addEventListener('DOMContentLoaded', function () {
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const showLoginBtn = document.getElementById('show-login');
            const showRegisterBtn = document.getElementById('show-register');

            if (showLoginBtn) {
                showLoginBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    registerForm.style.display = 'none';
                    loginForm.style.display = 'block';
                });
            }

            if (showRegisterBtn) {
                showRegisterBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    loginForm.style.display = 'none';
                    registerForm.style.display = 'block';
                }); // <-- THIS WAS MISSING IN YOUR CODE
            }
        });
    </script>
}