@page
@model MedUnity.Pages.MyAppointmentsModel
@{
    ViewData["Title"] = "My Appointments";
}

<h2 class="text-center mb-4">My Appointments</h2>

@if (Model.MyAppointments != null && Model.MyAppointments.Any())
{
    <div class="d-flex flex-wrap justify-content-center gap-3">
        @foreach (var app in Model.MyAppointments)
        {
            <div style="border:1px solid #ccc; padding:20px; width:350px; border-radius:12px; box-shadow:2px 2px 6px rgba(0,0,0,0.1); background:#fff;">

                <h5 class="text-center mb-3">
                    @app.Patient?.FirstName @app.Patient?.LastName
                </h5>

                <p><strong>Date:</strong> @app.AppointmentDate.ToString("yyyy-MM-dd")</p>
                <p><strong>Time Slot:</strong> @app.TimeSlot</p>
                <p><strong>Reason:</strong> @app.Reason</p>
                <p><strong>Doctor Specialty:</strong> @app.DoctorSpecialty</p>

                <p>
                    <strong>Status:</strong>
                    <span class="fw-bold
                                @(app.Status == "Pending" ? "text-warning" :
                                                    app.Status == "Rejected" ? "text-danger" :
                                                    "text-success")">
                        @app.Status
                    </span>
                </p>

                @if (app.Status == "Rejected")
                {
                    <p class="text-danger">
                        <strong>Rejected Reason:</strong> @app.RejectedReason
                    </p>
                }
            </div>
        }
    </div>
}
else
{
    <p class="text-center text-muted">No appointments found.</p>
}
